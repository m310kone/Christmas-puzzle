<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¯ãƒªã‚¹ãƒã‚¹ã®è¬è§£ã</title>

<style>
* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #1b4f9c, #0b2b55);
  overflow: hidden;
}

/* ===== é›ª ===== */
.snowflake {
  position: fixed;
  top: -10px;
  font-size: 14px;
  opacity: 0.8;
  color: white;
  animation: fall linear infinite;
  pointer-events: none;
  z-index: 1;
}
@keyframes fall {
  to { transform: translateY(110vh) translateX(40px); }
}

/* ===== ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ ===== */
.container {
  position: relative;
  z-index: 2;
  width: 90%;
  max-width: 360px;
  background: rgba(255,255,255,0.90);
  border-radius: 22px;
  padding: 28px 24px 32px;
  text-align: center;
  box-shadow: 0 20px 40px rgba(0,0,0,0.35);
  margin: auto;
  top: 50%;
  transform: translateY(-50%);
}

h1 {
  color: #1b4f9c;
  font-size: 1.3rem;
  margin-bottom: 8px;
}

p {
  color: #333;
  margin-bottom: 18px;
}

/* ===== å…¥åŠ› ===== */
input {
  width: 100%;
  padding: 14px;
  font-size: 1.6rem;
  text-align: center;
  border-radius: 12px;
  border: 2px solid #ddd;
  outline: none;
}

/* ===== ãƒœã‚¿ãƒ³ï¼ˆçµ±ä¸€ï¼‰ ===== */
button {
  margin-top: 18px;
  width: 100%;
  padding: 14px;
  font-size: 1.05rem;
  font-weight: bold;
  border-radius: 14px;
  border: none;
  color: #4a3b12;
  background: linear-gradient(135deg, #f7e7b8, #d4af37);
  box-shadow: 0 6px 0 #b5962e;
  cursor: pointer;
}

button:active {
  transform: translateY(4px);
  box-shadow: 0 2px 0 #b5962e;
}

button:disabled {
  opacity: 0.6;
}

/* ===== ä¸æ­£è§£ ===== */
.shake {
  animation: shake 0.4s;
  box-shadow: 0 0 25px rgba(255,80,80,0.8);
}

@keyframes shake {
  0% { transform: translateY(-50%) translateX(0); }
  25% { transform: translateY(-50%) translateX(-6px); }
  50% { transform: translateY(-50%) translateX(6px); }
  75% { transform: translateY(-50%) translateX(-4px); }
  100% { transform: translateY(-50%) translateX(0); }
}

#error {
  color: #c0392b;
  margin-top: 12px;
  display: none;
}

/* ===== æ­£è§£æ¼”å‡º ===== */
.flash {
  position: fixed;
  inset: 0;
  background: white;
  opacity: 0;
  animation: flash 1.2s ease-out;
  z-index: 8;
}
@keyframes flash {
  0% { opacity: 0; }
  20% { opacity: 0.85; }
  100% { opacity: 0; }
}

.confetti {
  position: fixed;
  top: -10px;
  width: 10px;
  height: 10px;
  animation: confettiFall 3s linear forwards;
  z-index: 9;
}
@keyframes confettiFall {
  to { transform: translateY(110vh) rotate(360deg); }
}
</style>
</head>

<body>

<div class="container" id="card">
  <div id="content">
    <h1>ğŸ„ ã‚µãƒ³ã‚¿ã®æŒ‘æˆ¦çŠ¶ ğŸ„</h1>
    <p>4æ¡ã®æš—è¨¼ç•ªå·ã‚’å…¥åŠ›ã—ã¦ã­</p>

    <input type="number" id="code" inputmode="numeric" placeholder="0000">
    <button onclick="check()">æ±º å®š</button>

    <div id="error">âŒ ã¡ãŒã†ã¿ãŸã„â€¦</div>
  </div>
</div>

<audio id="sound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3">
</audio>

<script>
const correctCode = "1220";
let solved = false;

/* é›ª */
setInterval(() => {
  const snow = document.createElement("div");
  snow.className = "snowflake";
  snow.textContent = "â„";
  snow.style.left = Math.random() * 100 + "vw";
  snow.style.fontSize = 10 + Math.random() * 14 + "px";
  snow.style.animationDuration = 8 + Math.random() * 6 + "s";
  document.body.appendChild(snow);
  setTimeout(() => snow.remove(), 15000);
}, 300);

function check() {
  if (solved) return;

  const card = document.getElementById("card");
  const error = document.getElementById("error");

  if (code.value === correctCode) {
    solved = true;
    success();
  } else {
    error.style.display = "block";
    card.classList.add("shake");
    navigator.vibrate?.(100);
    setTimeout(() => card.classList.remove("shake"), 400);
  }
}

function success() {
  flash();
  confetti();
  document.getElementById("sound").play().catch(()=>{});

  setTimeout(() => {
    document.getElementById("content").innerHTML = `
      <h1>ğŸ… Ho Ho Ho!</h1>
      <p>
        æ­£è§£ ãŠã‚ã§ã¨ã†ï¼<br><br>
        ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ ã‚’ ã‚ã‘ã‚‹ ã‚«ã‚®ã¯â€¦<br>
        <strong>ã‚ã‹ã„ é´ä¸‹ ã® ãªã‹</strong>
      </p>
    `;
  }, 500);
}

function flash() {
  const f = document.createElement("div");
  f.className = "flash";
  document.body.appendChild(f);
  setTimeout(() => f.remove(), 1200);
}

function confetti() {
  const colors = ["#fff", "#ff4d4d", "#4dff4d", "#ffd700"];
  for (let i = 0; i < 80; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = colors[Math.floor(Math.random() * colors.length)];
    c.style.animationDuration = 2 + Math.random() * 2 + "s";
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 4000);
  }
}
</script>

</body>
</html>
